<div ng-include="'/static/components/navbar/navbar.html'"></div>

<div class="container">

    <h1>{{ device.name }}</h1>

    <div class="row"  style="margin-bottom: 30px;">
        <div class="col-xs-12">
            <div class="console" scroll-glue>
                <div ng-repeat="command in commands | orderBy: 'creation_timestamp' : false">
                    <span class="console-execute">
                        <i class="fa fa-cog" ng-show="command.status === 0"></i>
                        <i class="fa fa-cog fa-spin" ng-show="command.status === 1"></i>
                        <i class="fa fa-check" ng-show="command.status === 2"></i>
                    </span>
                    <span class="console-date">{{ command.creation_timestamp | date : 'dd.MM.yyyy \- HH:mm' }}: </span>
                    <span class="console-execute">{{ command.execute }}</span>
                    <span class="console-result">{{ command.result }}</span>
                </div>
            </div>
            <form ng-submit="submitCmd()">
                <div class="console-input">
                    <input type="text" class="form-control" placeholder="Enter your command" ng-model="cmd">
                </div>
            </form>
        </div>
    </div>
    <div class="row"  style="margin-bottom: 30px;">
        <div class="col-xs-12">
            <device-cpu-chart statuses="statuses"></device-cpu-chart>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="card">
                <div class="card-content card-size-12">
                    <strong>OS: </strong> {{ device.os }}<br/>
                    <i>{{ device.description }}</i><br/>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Posted</th>
                    <th>IP</th>
                    <th>CPU</th>
                    <th>Memory</th>
                    <th>Disk</th>
                </tr>
                </thead>
                <tbody ng-repeat="status in statuses | orderBy: 'creation_timestamp' : true">
                <tr>
                    <td>{{ status.creation_timestamp | date : 'dd.MM.yyyy \- HH:mm:ss' }}</td>
                    <td>{{ status.ip }}</td>
                    <td>{{ status.cpu_load }}</td>
                    <td>{{ status.used_memory }} / {{ status.total_memory }}</td>
                    <td>{{ status.used_disk }} / {{ status.total_disk }}</td>
                </tr>

                </tbody>
            </table>

        </div>
    </div>

</div>